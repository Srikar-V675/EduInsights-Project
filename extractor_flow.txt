Start
|
v
Identify Subjects and Enter Credits - ✅
|
v
POST /identify_subjects/{section_id} - ✅
|
|-- Input: section_id, usn (optional)
|-- Process:
| 1. Fetch section by section_id.
| 2. If usn not provided, select a random usn from the section's USN range.
| 3. Scrape the result for the usn to identify subjects.
| 4. Return identified subjects to the user for credit input.
|
v
Output: List of subjects with subject codes and names - ✅
|
v
Enter Credits for Identified Subjects - ✅
|
v
POST /add_subjects/{section_id} - ✅
|
|-- Input: List of subjects with credits
|-- Process:
| 1. Store subjects and their credits in the subjects table.
|
v
Output: Confirmation of successful addition of subjects - ✅
|
v
Extract Data for All USNs in Section
|
v
POST /extract/{section_id}
|
|-- Input: section_id
|-- Process:
| 1. Fetch section by section_id.
| 2. Generate USN range for the section.
| 3. Initiate background task to scrape results for all USNs.
|
v
Output: Confirmation that extraction process has started
|
v
Background Task: Scrape and Store Data
|
|-- For each usn in the range:
| 1. Scrape result for usn.
| 2. Fetch or create student in database.
| 3. For each subject mark:
| a. Match subject code with subjects table.
| b. Store marks in the marks table.
| 4. Calculate total marks and SGPA.
| 5. Store student performance in the student_performance table.
|
v
End
